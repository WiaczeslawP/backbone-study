{"version":3,"sources":["../appView.js"],"names":[],"mappings":"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","file":"appView.js","sourcesContent":["import { Todos } from './todosCollection';\n\nexport default class AppView extends Backbone.View {\n\tconstructor() {\n\t\tsuper(options);\n\t\tthis.el = '#todoapp';\n\t\tthis.statsTemplate = _.template( $('#stats-template').html() );\n\t\tthis.events = {\n\t\t\t'keypress #new-todo': 'createOnEnter',\n\t\t\t'click #clear-completed': 'clearCompleted',\n\t\t\t'click #toggle-all': 'toggleAllCompleted'\n\t\t};\n\t\tthis.allCheckbox = this.$('#toggle-all')[0];\n\t\tthis.$input = this.$('#new-todo');\n\t\tthis.$footer = this.$('#footer');\n\t\tthis.$main = this.$('#main');\n\t\tthis.listenTo(Todos, 'add', this.addOne);\n\t\tthis.listenTo(Todos, 'reset', this.addAll);\n\t\tthis.listenTo(Todos, 'change:completed', this.filterOne);\n\t\tthis.listenTo(Todos, 'filter', this.filterAll);\n\t\tthis.listenTo(Todos, 'all', this.render);\n\t\tTodos.fetch();\n\t}\n\trender() {\n\t\tvar completed = app.Todos.completed().length;\n\t\tvar remaining = app.Todos.remaining().length;\n\t\tif (app.Todos.length) {\n\t\t\tthis.$main.show();\n\t\t\tthis.$footer.show();\n\t\t\tthis.$footer.html(this.statsTemplate({\n\t\t\t\tcompleted: completed,\n\t\t\t\tremaining: remaining\n\t\t\t}))\n\t\t\tthis.$('#filters li a')\n\t\t\t\t.removeClass('selected')\n\t\t\t\t.filter('[href=\"#/' + ( app.TodoFilter || '' ) + '\"]')\n\t\t\t\t.addClass('selected');\n\t\t} else {\n\t\t\tthis.$main.hide();\n\t\t\tthis.$footer.hide();\n\t\t}\n\t\tthis.allCheckbox.checked = !remaining;\n\t}\n\taddOne(todo) {\n\t\tvar view = new TodoView({ model: todo });\n\t\t$('#todo-list').append( view.render().el );\n\t}\n\taddAll() {\n\t\tthis.$('#todo-list').html('');\n\t\tTodos.each(this.addOne, this);\n\t}\n\tfilterOne(todo) {\n\t\ttrigger('visible');\n\t}\n\tfilterAll() {\n\t\tTodos.each(this.filterOne, this);\n\t}\n\tnewAttributes() {\n\t\treturn {\n\t\t\ttitle: this.$input.val().trim(),\n\t\t\torder: Todos.nextOrder(),\n\t\t\tcompleted: false\n\t\t};\n\t}\n\tcreateOnEnter(event) {\n\t\tif (event.which != ENTER_KEY || !this.$input.val().trim() ) {\n\t\t\treturn;\n\t\t}\n\t\tTodos.create( this.newAttributes() );\n\t\tthis.$input.val('');\n\t}\n\tclearCompleted() {\n\t\t_.invoke(app.Todos.completed(), 'destroy');\n\t}\n\ttoggleAllCompleted() {\n\t\tvar completed = this.allCheckbox.checked;\n\t\tTodos.each(function(todo){\n\t\t\ttodo.save({\n\t\t\t\t'completed': completed\n\t\t\t})\n\t\t})\n\t}\n}\n\n"]}